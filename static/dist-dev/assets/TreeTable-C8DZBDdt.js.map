{"version":3,"file":"TreeTable-C8DZBDdt.js","sources":["../../src/views/Components/Table/TreeTable.vue"],"sourcesContent":["<script setup lang=\"tsx\">\nimport { ContentWrap } from '@/components/ContentWrap'\nimport { useI18n } from '@/hooks/web/useI18n'\nimport { Table, TableColumn } from '@/components/Table'\nimport { getTreeTableListApi } from '@/api/table'\nimport { reactive, unref } from 'vue'\nimport { ElTag } from 'element-plus'\nimport { useTable } from '@/hooks/web/useTable'\nimport { BaseButton } from '@/components/Button'\n\nconst { tableRegister, tableState } = useTable({\n  fetchDataApi: async () => {\n    const { currentPage, pageSize } = tableState\n    const res = await getTreeTableListApi({\n      pageIndex: unref(currentPage),\n      pageSize: unref(pageSize)\n    })\n    return {\n      list: res.data.list,\n      total: res.data.total\n    }\n  }\n})\nconst { loading, dataList, total, currentPage, pageSize } = tableState\n\nconst { t } = useI18n()\n\nconst columns = reactive<TableColumn[]>([\n  {\n    field: 'selection',\n    type: 'selection'\n  },\n  {\n    field: 'index',\n    label: t('tableDemo.index'),\n    type: 'index'\n  },\n  {\n    field: 'content',\n    label: t('tableDemo.header'),\n    children: [\n      {\n        field: 'title',\n        label: t('tableDemo.title')\n      },\n      {\n        field: 'author',\n        label: t('tableDemo.author')\n      },\n      {\n        field: 'display_time',\n        label: t('tableDemo.displayTime')\n      },\n      {\n        field: 'importance',\n        label: t('tableDemo.importance'),\n        formatter: (_: Recordable, __: TableColumn, cellValue: number) => {\n          return (\n            <ElTag type={cellValue === 1 ? 'success' : cellValue === 2 ? 'warning' : 'danger'}>\n              {cellValue === 1\n                ? t('tableDemo.important')\n                : cellValue === 2\n                  ? t('tableDemo.good')\n                  : t('tableDemo.commonly')}\n            </ElTag>\n          )\n        }\n      },\n      {\n        field: 'pageviews',\n        label: t('tableDemo.pageviews')\n      }\n    ]\n  },\n  {\n    field: 'action',\n    label: t('tableDemo.action'),\n    slots: {\n      default: (data) => {\n        return (\n          <BaseButton type=\"primary\" onClick={() => actionFn(data)}>\n            {t('tableDemo.action')}\n          </BaseButton>\n        )\n      }\n    }\n  }\n])\n\nconst actionFn = (data) => {\n  console.log(data)\n}\n</script>\n\n<template>\n  <ContentWrap :title=\"`${t('router.treeTable')} ${t('tableDemo.example')}`\">\n    <Table\n      v-model:pageSize=\"pageSize\"\n      v-model:currentPage=\"currentPage\"\n      :columns=\"columns\"\n      :data=\"dataList\"\n      row-key=\"id\"\n      :loading=\"loading\"\n      sortable\n      :pagination=\"{\n        total: total\n      }\"\n      @register=\"tableRegister\"\n    />\n  </ContentWrap>\n</template>\n\n<style lang=\"less\" scoped>\n.el-button {\n  margin-top: 10px;\n}\n</style>\n"],"names":["_isSlot","s","Object","prototype","toString","call","_isVNode","tableRegister","tableState","useTable","fetchDataApi","__async","currentPage","pageSize","res","getTreeTableListApi","pageIndex","unref","list","data","total","loading","dataList","t","useI18n","columns","reactive","field","type","label","children","formatter","_","__","cellValue","_createVNode2","ElTag","default","slots","_slot","BaseButton","onClick","actionFn","console","log"],"mappings":"mjCAQ+C,SAAAA,EAAAC,EAAA,CAAA,OAAA,OAAAA,GAAA,YAAAC,OAAAC,UAAAC,SAAAC,KAAAJ,CAAA,IAAAK,mBAAAA,CAAAA,EAAAL,CAAA,CAAA,wCAE/C,KAAM,CAAEM,cAAAA,EAAeC,WAAAA,CAAY,EAAGC,EAAS,CAC7CC,aAAc,IAAYC,EAAA,sBACxB,KAAM,CAAEC,YAAAA,EAAaC,SAAAA,CAAS,EAAIL,EAC5BM,EAAM,MAAMC,EAAoB,CACpCC,UAAWC,EAAML,CAAW,EAC5BC,SAAUI,EAAMJ,CAAQ,CAC1B,CAAC,EACD,MAAO,CACLK,KAAMJ,EAAIK,KAAKD,KACfE,MAAON,EAAIK,KAAKC,KAClB,CACF,EACF,CAAC,EACK,CAAEC,QAAAA,EAASC,SAAAA,EAAUF,MAAAA,EAAOR,YAAAA,EAAaC,SAAAA,CAAS,EAAIL,EAEtD,CAAEe,EAAAA,CAAG,EAAGC,EAAQ,EAEhBC,EAAUC,EAAwB,CACtC,CACEC,MAAO,YACPC,KAAM,WACR,EACA,CACED,MAAO,QACPE,MAAON,EAAE,iBAAiB,EAC1BK,KAAM,OACR,EACA,CACED,MAAO,UACPE,MAAON,EAAE,kBAAkB,EAC3BO,SAAU,CACR,CACEH,MAAO,QACPE,MAAON,EAAE,iBAAiB,CAC5B,EACA,CACEI,MAAO,SACPE,MAAON,EAAE,kBAAkB,CAC7B,EACA,CACEI,MAAO,eACPE,MAAON,EAAE,uBAAuB,CAClC,EACA,CACEI,MAAO,aACPE,MAAON,EAAE,sBAAsB,EAC/BQ,UAAWA,CAACC,EAAeC,EAAiBC,IAC1CC,EAAAC,EAAA,CAAA,KACeF,IAAc,EAAI,UAAYA,IAAc,EAAI,UAAY,QAAQ,EAAA,CAAAG,QAAAA,IAAA,CAE3Ed,EADHW,IAAc,EACT,sBACFA,IAAc,EACV,iBACA,oBAHmB,CAGE,CAAA,CAAA,CAIrC,EACA,CACEP,MAAO,YACPE,MAAON,EAAE,qBAAqB,CAChC,CAAA,CAEJ,EACA,CACEI,MAAO,SACPE,MAAON,EAAE,kBAAkB,EAC3Be,MAAO,CACLD,QAAUlB,GAAS,CAAA,IAAAoB,EACjB,OAAAJ,EAAAK,EAAA,CAAA,KAAA,UAAA,QACsCC,IAAMC,EAASvB,CAAI,GAACnB,EAAAuC,EACrDhB,EAAE,kBAAkB,CAAC,EAAAgB,EAAA,CAAAF,QAAAA,IAAA,CAAAE,CAAA,CAAA,CAAA,CAG5B,CACF,CACF,CAAA,CACD,EAEKG,EAAYvB,GAAS,CACzBwB,QAAQC,IAAIzB,CAAI,CAClB"}
{"version":3,"file":"useEventBus-BNkogk2f.js","sources":["../../node_modules/.pnpm/mitt@3.0.1/node_modules/mitt/dist/mitt.mjs","../../src/hooks/event/useEventBus.ts"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from 'mitt'\nimport { onBeforeUnmount } from 'vue'\n\ninterface Option {\n  name: string // 事件名称\n  callback: Fn // 回调\n}\n\nconst emitter = mitt()\n\nexport const useEventBus = (option?: Option) => {\n  if (option) {\n    emitter.on(option.name, option.callback)\n\n    onBeforeUnmount(() => {\n      emitter.off(option.name)\n    })\n  }\n\n  return {\n    on: emitter.on,\n    off: emitter.off,\n    emit: emitter.emit,\n    all: emitter.all\n  }\n}\n"],"names":["mitt","n","t","e","i","emitter","useEventBus","option","onBeforeUnmount"],"mappings":"6CAAe,SAAAA,EAASC,EAAE,CAAC,MAAM,CAAC,IAAIA,EAAEA,GAAG,IAAI,IAAI,GAAG,SAASC,EAAEC,EAAE,CAAC,IAAIC,EAAEH,EAAE,IAAIC,CAAC,EAAEE,EAAEA,EAAE,KAAKD,CAAC,EAAEF,EAAE,IAAIC,EAAE,CAACC,CAAC,CAAC,CAAC,EAAE,IAAI,SAASD,EAAEC,EAAE,CAAC,IAAIC,EAAEH,EAAE,IAAIC,CAAC,EAAEE,IAAID,EAAEC,EAAE,OAAOA,EAAE,QAAQD,CAAC,IAAI,EAAE,CAAC,EAAEF,EAAE,IAAIC,EAAE,EAAE,EAAE,EAAE,KAAK,SAASA,EAAEC,EAAE,CAAC,IAAIC,EAAEH,EAAE,IAAIC,CAAC,EAAEE,GAAGA,EAAE,QAAQ,IAAI,SAASH,EAAE,CAACA,EAAEE,CAAC,CAAC,CAAC,GAAGC,EAAEH,EAAE,IAAI,GAAG,IAAIG,EAAE,MAAO,EAAC,IAAI,SAASH,EAAE,CAACA,EAAEC,EAAEC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CCQzT,MAAME,EAAUL,EAAK,EAERM,EAAeC,IACtBA,IACFF,EAAQ,GAAGE,EAAO,KAAMA,EAAO,QAAQ,EAEvCC,EAAgB,IAAM,CACZH,EAAA,IAAIE,EAAO,IAAI,CAAA,CACxB,GAGI,CACL,GAAIF,EAAQ,GACZ,IAAKA,EAAQ,IACb,KAAMA,EAAQ,KACd,IAAKA,EAAQ,GACf","x_google_ignoreList":[0]}
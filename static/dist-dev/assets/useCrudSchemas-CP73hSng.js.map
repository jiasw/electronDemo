{"version":3,"file":"useCrudSchemas-CP73hSng.js","sources":["../../src/views/hooks/useCrudSchemas.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { CrudSchema, useCrudSchemas } from '@/hooks/web/useCrudSchemas'\nimport { useI18n } from '@/hooks/web/useI18n'\nimport { reactive } from 'vue'\nimport { JsonEditor } from '@/components/JsonEditor'\nimport { ContentWrap } from '@/components/ContentWrap'\nimport { ElRow, ElCol } from 'element-plus'\n\nconst { t } = useI18n()\n\nconst crudSchemas = reactive<CrudSchema[]>([\n  {\n    field: 'selection',\n    search: {\n      hidden: true\n    },\n    form: {\n      hidden: true\n    },\n    detail: {\n      hidden: true\n    },\n    table: {\n      type: 'selection'\n    }\n  },\n  {\n    field: 'index',\n    label: t('tableDemo.index'),\n    type: 'index',\n    search: {\n      hidden: true\n    },\n    form: {\n      hidden: true\n    },\n    detail: {\n      hidden: true\n    }\n  },\n  {\n    field: 'title',\n    label: t('tableDemo.title'),\n    search: {\n      component: 'Input'\n    },\n    form: {\n      component: 'Input',\n      colProps: {\n        span: 24\n      }\n    },\n    detail: {\n      span: 24\n    }\n  },\n  {\n    field: 'author',\n    label: t('tableDemo.author'),\n    search: {\n      hidden: true\n    }\n  },\n  {\n    field: 'display_time',\n    label: t('tableDemo.displayTime'),\n    search: {\n      hidden: true\n    },\n    form: {\n      component: 'DatePicker',\n      componentProps: {\n        type: 'datetime',\n        valueFormat: 'YYYY-MM-DD HH:mm:ss'\n      }\n    }\n  },\n  {\n    field: 'importance',\n    label: t('tableDemo.importance'),\n    search: {\n      hidden: true\n    },\n    form: {\n      component: 'Select',\n      componentProps: {\n        style: {\n          width: '100%'\n        },\n        options: [\n          {\n            label: '重要',\n            value: 3\n          },\n          {\n            label: '良好',\n            value: 2\n          },\n          {\n            label: '一般',\n            value: 1\n          }\n        ]\n      }\n    }\n  },\n  {\n    field: 'pageviews',\n    label: t('tableDemo.pageviews'),\n    search: {\n      hidden: true\n    },\n    form: {\n      component: 'InputNumber',\n      value: 0\n    }\n  },\n  {\n    field: 'content',\n    label: t('exampleDemo.content'),\n    search: {\n      hidden: true\n    },\n    table: {\n      show: false\n    },\n    form: {\n      component: 'Editor',\n      colProps: {\n        span: 24\n      }\n    },\n    detail: {\n      span: 24\n    }\n  },\n  {\n    field: 'action',\n    width: '260px',\n    label: t('tableDemo.action'),\n    search: {\n      hidden: true\n    },\n    form: {\n      hidden: true\n    },\n    detail: {\n      hidden: true\n    }\n  }\n])\n\nconst { allSchemas } = useCrudSchemas(crudSchemas)\n</script>\n\n<template>\n  <ContentWrap title=\"useCrudSchemas\">\n    <ElRow :gutter=\"20\">\n      <ElCol :span=\"24\">\n        <ContentWrap title=\"原始数据数据\" class=\"mt-20px\">\n          <JsonEditor v-model=\"crudSchemas\" />\n        </ContentWrap>\n      </ElCol>\n      <ElCol :span=\"24\">\n        <ContentWrap title=\"查询组件数据结构\" class=\"mt-20px\">\n          <JsonEditor v-model=\"allSchemas.searchSchema\" />\n        </ContentWrap>\n      </ElCol>\n      <ElCol :span=\"24\">\n        <ContentWrap title=\"表单组件数据结构\" class=\"mt-20px\">\n          <JsonEditor v-model=\"allSchemas.formSchema\" />\n        </ContentWrap>\n      </ElCol>\n      <ElCol :span=\"24\">\n        <ContentWrap title=\"表格组件数据结构\" class=\"mt-20px\">\n          <JsonEditor v-model=\"allSchemas.tableColumns\" />\n        </ContentWrap>\n      </ElCol>\n      <ElCol :span=\"24\">\n        <ContentWrap title=\"详情组件数据结构\" class=\"mt-20px\">\n          <JsonEditor v-model=\"allSchemas.detailSchema\" />\n        </ContentWrap>\n      </ElCol>\n    </ElRow>\n  </ContentWrap>\n</template>\n"],"names":["t","useI18n","crudSchemas","reactive","allSchemas","useCrudSchemas"],"mappings":"siBAQM,KAAA,CAAE,EAAAA,CAAE,EAAIC,EAAQ,EAEhBC,EAAcC,EAAuB,CACzC,CACE,MAAO,YACP,OAAQ,CACN,OAAQ,EACV,EACA,KAAM,CACJ,OAAQ,EACV,EACA,OAAQ,CACN,OAAQ,EACV,EACA,MAAO,CACL,KAAM,WAAA,CAEV,EACA,CACE,MAAO,QACP,MAAOH,EAAE,iBAAiB,EAC1B,KAAM,QACN,OAAQ,CACN,OAAQ,EACV,EACA,KAAM,CACJ,OAAQ,EACV,EACA,OAAQ,CACN,OAAQ,EAAA,CAEZ,EACA,CACE,MAAO,QACP,MAAOA,EAAE,iBAAiB,EAC1B,OAAQ,CACN,UAAW,OACb,EACA,KAAM,CACJ,UAAW,QACX,SAAU,CACR,KAAM,EAAA,CAEV,EACA,OAAQ,CACN,KAAM,EAAA,CAEV,EACA,CACE,MAAO,SACP,MAAOA,EAAE,kBAAkB,EAC3B,OAAQ,CACN,OAAQ,EAAA,CAEZ,EACA,CACE,MAAO,eACP,MAAOA,EAAE,uBAAuB,EAChC,OAAQ,CACN,OAAQ,EACV,EACA,KAAM,CACJ,UAAW,aACX,eAAgB,CACd,KAAM,WACN,YAAa,qBAAA,CACf,CAEJ,EACA,CACE,MAAO,aACP,MAAOA,EAAE,sBAAsB,EAC/B,OAAQ,CACN,OAAQ,EACV,EACA,KAAM,CACJ,UAAW,SACX,eAAgB,CACd,MAAO,CACL,MAAO,MACT,EACA,QAAS,CACP,CACE,MAAO,KACP,MAAO,CACT,EACA,CACE,MAAO,KACP,MAAO,CACT,EACA,CACE,MAAO,KACP,MAAO,CAAA,CACT,CACF,CACF,CAEJ,EACA,CACE,MAAO,YACP,MAAOA,EAAE,qBAAqB,EAC9B,OAAQ,CACN,OAAQ,EACV,EACA,KAAM,CACJ,UAAW,cACX,MAAO,CAAA,CAEX,EACA,CACE,MAAO,UACP,MAAOA,EAAE,qBAAqB,EAC9B,OAAQ,CACN,OAAQ,EACV,EACA,MAAO,CACL,KAAM,EACR,EACA,KAAM,CACJ,UAAW,SACX,SAAU,CACR,KAAM,EAAA,CAEV,EACA,OAAQ,CACN,KAAM,EAAA,CAEV,EACA,CACE,MAAO,SACP,MAAO,QACP,MAAOA,EAAE,kBAAkB,EAC3B,OAAQ,CACN,OAAQ,EACV,EACA,KAAM,CACJ,OAAQ,EACV,EACA,OAAQ,CACN,OAAQ,EAAA,CACV,CACF,CACD,EAEK,CAAE,WAAAI,CAAA,EAAeC,EAAeH,CAAW"}
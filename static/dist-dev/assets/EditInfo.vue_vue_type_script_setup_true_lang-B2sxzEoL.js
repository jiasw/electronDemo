var f=(l,c,o)=>new Promise((m,r)=>{var i=e=>{try{a(o.next(e))}catch(s){r(s)}},p=e=>{try{a(o.throw(e))}catch(s){r(s)}},a=e=>e.done?m(e.value):Promise.resolve(e.value).then(i,p);a((o=o.apply(l,c)).next())});import{F as _}from"./Form-Bj3x_paY.js";import{u as b}from"./useForm-JzSftaNC.js";import{u as E}from"./useValidator-HdVTM59K.js";import"./index-Spw_2G4t.js";/* empty css                   */import{m as w,k as I,b as N}from"./element-plus-Cbe27J2b.js";import{v as V,V as v,w as k,r as C,x as F,y as M,M as d,u as h,K as P,a3 as R,H as T,ad as j}from"./vue-chunks-COp0tDkU.js";const A=V({__name:"EditInfo",props:{userInfo:{type:Object,default:()=>({})}},setup(l){const c=l,{required:o,phone:m,maxlength:r,email:i}=E(),p=v([{field:"realName",label:"昵称",component:"Input",colProps:{span:24}},{field:"phoneNumber",label:"手机号码",component:"Input",colProps:{span:24}},{field:"email",label:"邮箱",component:"Input",colProps:{span:24}}]),a=v({realName:[o(),r(50)],phoneNumber:[m()],email:[i()]}),{formRegister:e,formMethods:s}=b(),{setValues:x,getElFormExpose:y}=s;k(()=>c.userInfo,t=>{x(t)},{immediate:!0,deep:!0});const g=C(!1),B=()=>f(this,null,function*(){const t=yield y();(yield t==null?void 0:t.validate().catch(n=>{console.log(n)}))&&I.confirm("是否确认修改?","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>f(this,null,function*(){try{g.value=!0,N.success("修改成功")}catch(n){console.log(n)}finally{g.value=!1}})).catch(()=>{})});return(t,u)=>{const n=j("BaseButton");return F(),M(T,null,[d(h(_),{rules:a,onRegister:h(e),schema:p},null,8,["rules","onRegister","schema"]),d(h(w)),d(n,{type:"primary",onClick:B},{default:P(()=>u[0]||(u[0]=[R("保存")])),_:1})],64)}}});export{A as _};
//# sourceMappingURL=EditInfo.vue_vue_type_script_setup_true_lang-B2sxzEoL.js.map

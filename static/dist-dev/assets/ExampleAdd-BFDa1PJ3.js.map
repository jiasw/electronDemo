{"version":3,"file":"ExampleAdd-BFDa1PJ3.js","sources":["../../src/views/Example/Page/ExampleAdd.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport Write from './components/Write.vue'\nimport { ContentDetailWrap } from '@/components/ContentDetailWrap'\nimport { ref, unref } from 'vue'\nimport { useI18n } from '@/hooks/web/useI18n'\nimport { useRouter } from 'vue-router'\nimport { saveTableApi } from '@/api/table'\nimport { useEventBus } from '@/hooks/event/useEventBus'\n\nconst { emit } = useEventBus()\n\nconst { push, go } = useRouter()\n\nconst { t } = useI18n()\n\nconst writeRef = ref<ComponentRef<typeof Write>>()\n\nconst loading = ref(false)\n\nconst save = async () => {\n  const write = unref(writeRef)\n  const formData = await write?.submit()\n  if (formData) {\n    loading.value = true\n    const res = await saveTableApi(formData)\n      .catch(() => {})\n      .finally(() => {\n        loading.value = false\n      })\n    if (res) {\n      emit('getList', 'add')\n      push('/example/example-page')\n    }\n  }\n}\n</script>\n\n<template>\n  <ContentDetailWrap :title=\"t('exampleDemo.add')\" @back=\"push('/example/example-page')\">\n    <Write ref=\"writeRef\" />\n\n    <template #header>\n      <BaseButton @click=\"go(-1)\">\n        {{ t('common.back') }}\n      </BaseButton>\n      <BaseButton type=\"primary\" :loading=\"loading\" @click=\"save\"\n        >{{ t('exampleDemo.save') }}\n      </BaseButton>\n    </template>\n  </ContentDetailWrap>\n</template>\n"],"names":["emit","useEventBus","push","go","useRouter","t","useI18n","writeRef","ref","loading","save","__async","write","unref","formData","saveTableApi"],"mappings":"siDASM,KAAA,CAAE,KAAAA,CAAK,EAAIC,EAAY,EAEvB,CAAE,KAAAC,EAAM,GAAAC,CAAG,EAAIC,EAAU,EAEzB,CAAE,EAAAC,CAAE,EAAIC,EAAQ,EAEhBC,EAAWC,EAAgC,EAE3CC,EAAUD,EAAI,EAAK,EAEnBE,EAAO,IAAYC,EAAA,sBACjB,MAAAC,EAAQC,EAAMN,CAAQ,EACtBO,EAAW,MAAMF,GAAA,YAAAA,EAAO,SAC1BE,IACFL,EAAQ,MAAQ,IACJ,MAAMM,EAAaD,CAAQ,EACpC,MAAM,IAAM,CAAA,CAAE,EACd,QAAQ,IAAM,CACbL,EAAQ,MAAQ,EAAA,CACjB,KAEDT,EAAK,UAAW,KAAK,EACrBE,EAAK,uBAAuB,GAGlC"}
var u=(s,l,e)=>new Promise((m,o)=>{var p=a=>{try{n(e.next(a))}catch(r){o(r)}},c=a=>{try{n(e.throw(a))}catch(r){o(r)}},n=a=>a.done?m(a.value):Promise.resolve(a.value).then(p,c);n((e=e.apply(s,l)).next())});import{F as g}from"./Form-Bj3x_paY.js";import{u as x}from"./useForm-JzSftaNC.js";import{d as I}from"./index-Spw_2G4t.js";import{u as _}from"./useValidator-HdVTM59K.js";import{v as w,V as f,w as y,x as F,J as H,u as d}from"./vue-chunks-COp0tDkU.js";const B=w({__name:"Write",props:{currentRow:{type:Object,default:()=>null}},setup(s,{expose:l}){const{required:e}=_(),m=s,{t:o}=I(),{formRegister:p,formMethods:c}=x(),{setValues:n,getFormData:a,getElFormExpose:r,setSchema:v}=c,b=f([{field:"title",label:o("exampleDemo.title"),component:"Input",formItemProps:{rules:[e()]},colProps:{span:24}},{field:"author",label:o("exampleDemo.author"),component:"Input",formItemProps:{rules:[e()]}},{field:"display_time",label:o("exampleDemo.displayTime"),component:"DatePicker",componentProps:{type:"datetime",valueFormat:"YYYY-MM-DD HH:mm:ss"},formItemProps:{rules:[e()]}},{field:"importance",label:o("exampleDemo.importance"),component:"Select",formItemProps:{rules:[e()]},componentProps:{options:[{label:"重要",value:3},{label:"良好",value:2},{label:"一般",value:1}]}},{field:"pageviews",label:o("exampleDemo.pageviews"),component:"InputNumber",value:0,formItemProps:{rules:[e()]}},{field:"content",component:"Editor",colProps:{span:24},componentProps:{defaultHtml:"",onChange:t=>{n({content:t.getHtml()})}},label:o("exampleDemo.content")}]),h=f({title:[e()],author:[e()],importance:[e()],pageviews:[e()],display_time:[e()],content:[e()]}),D=()=>u(this,null,function*(){const t=yield r();if(yield t==null?void 0:t.validate().catch(i=>{console.log(i)}))return yield a()});return y(()=>m.currentRow,t=>{t&&(n(t),v([{field:"content",path:"componentProps.defaultHtml",value:t.content}]))},{deep:!0,immediate:!0}),l({submit:D}),(t,P)=>(F(),H(d(g),{rules:h,onRegister:d(p),schema:b},null,8,["rules","onRegister","schema"]))}});export{B as _};
//# sourceMappingURL=Write.vue_vue_type_script_setup_true_lang-TUKDzr2n.js.map

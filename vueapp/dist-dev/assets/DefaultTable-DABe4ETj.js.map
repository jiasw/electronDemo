{"version":3,"file":"DefaultTable-DABe4ETj.js","sources":["../../src/views/Components/Table/DefaultTable.vue"],"sourcesContent":["<script setup lang=\"tsx\">\nimport { ContentWrap } from '@/components/ContentWrap'\nimport { useI18n } from '@/hooks/web/useI18n'\nimport { Table, TableColumn } from '@/components/Table'\nimport { getTableListApi } from '@/api/table'\nimport { TableData } from '@/api/table/types'\nimport { ref, h } from 'vue'\nimport { ElTag } from 'element-plus'\nimport { BaseButton } from '@/components/Button'\n\ninterface Params {\n  pageIndex?: number\n  pageSize?: number\n}\n\nconst { t } = useI18n()\n\nconst columns: TableColumn[] = [\n  {\n    field: 'title',\n    label: t('tableDemo.title')\n  },\n  {\n    field: 'author',\n    label: t('tableDemo.author')\n  },\n  {\n    field: 'display_time',\n    label: t('tableDemo.displayTime'),\n    sortable: true\n  },\n  {\n    field: 'importance',\n    label: t('tableDemo.importance'),\n    formatter: (_: Recordable, __: TableColumn, cellValue: number) => {\n      return h(\n        ElTag,\n        {\n          type: cellValue === 1 ? 'success' : cellValue === 2 ? 'warning' : 'danger'\n        },\n        () =>\n          cellValue === 1\n            ? t('tableDemo.important')\n            : cellValue === 2\n              ? t('tableDemo.good')\n              : t('tableDemo.commonly')\n      )\n    }\n  },\n  {\n    field: 'pageviews',\n    label: t('tableDemo.pageviews')\n  },\n  {\n    field: 'action',\n    label: t('tableDemo.action'),\n    slots: {\n      default: (data) => {\n        return (\n          <BaseButton type=\"primary\" onClick={() => actionFn(data)}>\n            {t('tableDemo.action')}\n          </BaseButton>\n        )\n      }\n    }\n  }\n]\n\nconst loading = ref(true)\n\nconst tableDataList = ref<TableData[]>([])\n\nconst getTableList = async (params?: Params) => {\n  const res = await getTableListApi(\n    params || {\n      pageIndex: 1,\n      pageSize: 10\n    }\n  )\n    .catch(() => {})\n    .finally(() => {\n      loading.value = false\n    })\n  if (res) {\n    tableDataList.value = res.data.list\n  }\n}\n\ngetTableList()\n\nconst actionFn = (data: any) => {\n  console.log(data)\n}\n</script>\n\n<template>\n  <ContentWrap :title=\"t('tableDemo.table')\" :message=\"t('tableDemo.tableDes')\">\n    <Table\n      :columns=\"columns\"\n      :data=\"tableDataList\"\n      :loading=\"loading\"\n      :defaultSort=\"{ prop: 'display_time', order: 'descending' }\"\n    />\n  </ContentWrap>\n</template>\n"],"names":["_isSlot","s","Object","prototype","toString","call","_isVNode","t","useI18n","columns","field","label","sortable","formatter","_","__","cellValue","h","ElTag","type","slots","default","data","_slot","_createVNode2","BaseButton","onClick","actionFn","loading","ref","tableDataList","params","__async","res","getTableListApi","pageIndex","pageSize","catch","finally","value","list","console","log"],"mappings":"kgCAQ+C,SAAAA,EAAAC,EAAA,CAAA,OAAA,OAAAA,GAAA,YAAAC,OAAAC,UAAAC,SAAAC,KAAAJ,CAAA,IAAAK,mBAAAA,CAAAA,EAAAL,CAAA,CAAA,2CAO/C,KAAM,CAAEM,EAAAA,CAAG,EAAGC,EAAQ,EAEhBC,EAAyB,CAC7B,CACEC,MAAO,QACPC,MAAOJ,EAAE,iBAAiB,CAC5B,EACA,CACEG,MAAO,SACPC,MAAOJ,EAAE,kBAAkB,CAC7B,EACA,CACEG,MAAO,eACPC,MAAOJ,EAAE,uBAAuB,EAChCK,SAAU,EACZ,EACA,CACEF,MAAO,aACPC,MAAOJ,EAAE,sBAAsB,EAC/BM,UAAWA,CAACC,EAAeC,EAAiBC,IACnCC,EACLC,EACA,CACEC,KAAMH,IAAc,EAAI,UAAYA,IAAc,EAAI,UAAY,QACnE,EACD,IAEMT,EADJS,IAAc,EACR,sBACFA,IAAc,EACV,iBACA,oBAHmB,CAI/B,CAEJ,EACA,CACEN,MAAO,YACPC,MAAOJ,EAAE,qBAAqB,CAChC,EACA,CACEG,MAAO,SACPC,MAAOJ,EAAE,kBAAkB,EAC3Ba,MAAO,CACLC,QAAUC,GAAS,CAAA,IAAAC,EACjB,OAAAC,EAAAC,EAAA,CAAA,KAAA,UAAA,QACsCC,IAAMC,EAASL,CAAI,GAACtB,EAAAuB,EACrDhB,EAAE,kBAAkB,CAAC,EAAAgB,EAAA,CAAAF,QAAAA,IAAA,CAAAE,CAAA,CAAA,CAAA,CAG5B,CACF,CACF,CAAA,EAGIK,EAAUC,EAAI,EAAI,EAElBC,EAAgBD,EAAiB,EAAE,GAEbE,GAAoBC,EAAA,sBAC9C,MAAMC,EAAM,MAAMC,EACN,CACRC,UAAW,EACXC,SAAU,EAEd,CAAA,EACGC,MAAM,IAAM,EAAE,EACdC,QAAQ,IAAM,CACbV,EAAQW,MAAQ,EAClB,CAAC,EACCN,IACFH,EAAcS,MAAQN,EAAIX,KAAKkB,KAEnC,IAEa,EAEb,MAAMb,EAAYL,GAAc,CAC9BmB,QAAQC,IAAIpB,CAAI,CAClB"}
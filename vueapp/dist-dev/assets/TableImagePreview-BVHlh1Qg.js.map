{"version":3,"file":"TableImagePreview-BVHlh1Qg.js","sources":["../../src/views/Components/Table/TableImagePreview.vue"],"sourcesContent":["<script setup lang=\"tsx\">\nimport { ContentWrap } from '@/components/ContentWrap'\nimport { useI18n } from '@/hooks/web/useI18n'\nimport { Table, TableColumn } from '@/components/Table'\nimport { getTableListApi } from '@/api/table'\nimport { TableData } from '@/api/table/types'\nimport { ref } from 'vue'\nimport { ElTag } from 'element-plus'\n\ninterface Params {\n  pageIndex?: number\n  pageSize?: number\n}\n\nconst { t } = useI18n()\n\nconst columns: TableColumn[] = [\n  {\n    field: 'title',\n    label: t('tableDemo.title')\n  },\n  {\n    field: 'image_uri',\n    label: t('tableDemo.preview')\n  },\n  {\n    field: 'author',\n    label: t('tableDemo.author')\n  },\n  {\n    field: 'display_time',\n    label: t('tableDemo.displayTime')\n  },\n  {\n    field: 'importance',\n    label: t('tableDemo.importance'),\n    formatter: (_: Recordable, __: TableColumn, cellValue: number) => {\n      return (\n        <ElTag type={cellValue === 1 ? 'success' : cellValue === 2 ? 'warning' : 'danger'}>\n          {cellValue === 1\n            ? t('tableDemo.important')\n            : cellValue === 2\n              ? t('tableDemo.good')\n              : t('tableDemo.commonly')}\n        </ElTag>\n      )\n    }\n  },\n  {\n    field: 'pageviews',\n    label: t('tableDemo.pageviews')\n  }\n]\n\nconst loading = ref(true)\n\nconst tableDataList = ref<TableData[]>([])\n\nconst getTableList = async (params?: Params) => {\n  const res = await getTableListApi(\n    params || {\n      pageIndex: 1,\n      pageSize: 10\n    }\n  )\n    .catch(() => {})\n    .finally(() => {\n      loading.value = false\n    })\n  if (res) {\n    tableDataList.value = res.data.list\n  }\n}\n\ngetTableList()\n</script>\n\n<template>\n  <ContentWrap :title=\"t('router.PicturePreview')\">\n    <Table\n      :columns=\"columns\"\n      :data=\"tableDataList\"\n      :loading=\"loading\"\n      :image-preview=\"['image_uri']\"\n    />\n  </ContentWrap>\n</template>\n"],"names":["t","useI18n","columns","field","label","formatter","_","__","cellValue","_createVNode2","ElTag","default","loading","ref","tableDataList","getTableList","params","__async","res","getTableListApi","pageIndex","pageSize","catch","finally","value","data","list"],"mappings":"qhCAcA,KAAM,CAAEA,EAAAA,CAAG,EAAGC,EAAQ,EAEhBC,EAAyB,CAC7B,CACEC,MAAO,QACPC,MAAOJ,EAAE,iBAAiB,CAC5B,EACA,CACEG,MAAO,YACPC,MAAOJ,EAAE,mBAAmB,CAC9B,EACA,CACEG,MAAO,SACPC,MAAOJ,EAAE,kBAAkB,CAC7B,EACA,CACEG,MAAO,eACPC,MAAOJ,EAAE,uBAAuB,CAClC,EACA,CACEG,MAAO,aACPC,MAAOJ,EAAE,sBAAsB,EAC/BK,UAAWA,CAACC,EAAeC,EAAiBC,IAC1CC,EAAAC,EAAA,CAAA,KACeF,IAAc,EAAI,UAAYA,IAAc,EAAI,UAAY,QAAQ,EAAA,CAAAG,QAAAA,IAAA,CAE3EX,EADHQ,IAAc,EACT,sBACFA,IAAc,EACV,iBACA,oBAHmB,CAGE,CAAA,CAAA,CAIrC,EACA,CACEL,MAAO,YACPC,MAAOJ,EAAE,qBAAqB,CAChC,CAAA,EAGIY,EAAUC,EAAI,EAAI,EAElBC,EAAgBD,EAAiB,EAAE,EAkBzCE,OAhB4BC,GAAoBC,EAAA,sBAC9C,MAAMC,EAAM,MAAMC,EACN,CACRC,UAAW,EACXC,SAAU,EAEd,CAAA,EACGC,MAAM,IAAM,EAAE,EACdC,QAAQ,IAAM,CACbX,EAAQY,MAAQ,EAClB,CAAC,EACCN,IACFJ,EAAcU,MAAQN,EAAIO,KAAKC,KAEnC,IAEa"}
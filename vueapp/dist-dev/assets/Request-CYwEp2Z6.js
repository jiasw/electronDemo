var q=(g,m,e)=>new Promise((p,i)=>{var f=l=>{try{c(e.next(l))}catch(d){i(d)}},y=l=>{try{c(e.throw(l))}catch(d){i(d)}},c=l=>l.done?p(l.value):Promise.resolve(l.value).then(f,y);c((e=e.apply(g,m)).next())});import{_ as A}from"./ContentWrap.vue_vue_type_script_setup_true_lang-DcVlhz-x.js";import{r as s,d as h}from"./index-Spw_2G4t.js";/* empty css                   */import{m as E}from"./element-plus-Cbe27J2b.js";import{v as N,r as V,x as D,J as S,K as o,B as T,P as I,M as a,a3 as n,u as v,ad as J}from"./vue-chunks-COp0tDkU.js";/* empty css                *//* empty css                  */const K=()=>s.get({url:"/mock/request/1"}),M=()=>s.get({url:"/mock/request/2"}),P=()=>s.get({url:"/mock/request/3"}),$=()=>s.get({url:"/mock/request/4"}),b=()=>s.get({url:"/mock/request/5"}),j=()=>s.get({url:"/mock/request/expired"}),W=N({__name:"Request",setup(g){const{t:m}=h(),e=V(new Set),p=()=>q(this,null,function*(){if(!e.value.has("/request/1"))try{e.value.add("/request/1");const t=yield K();console.log("【res】：",t)}catch(t){console.log("【error】：",t)}finally{e.value.delete("/request/1")}}),i=()=>q(this,null,function*(){if(!e.value.has("/request/2"))try{e.value.add("/request/2");const t=yield M();console.log("【res】：",t)}catch(t){console.log("【error】：",t)}finally{e.value.delete("/request/2")}}),f=()=>q(this,null,function*(){if(!e.value.has("/request/3"))try{e.value.add("/request/3");const t=yield P();console.log("【res】：",t)}catch(t){console.log("【error】：",t)}finally{e.value.delete("/request/3")}}),y=()=>q(this,null,function*(){if(!e.value.has("/request/4"))try{e.value.add("/request/4");const t=yield $();console.log("【res】：",t)}catch(t){console.log("【error】：",t)}finally{e.value.delete("/request/4")}}),c=()=>q(this,null,function*(){if(!e.value.has("/request/5"))try{e.value.add("/request/5");const t=yield b();console.log("【res】：",t)}catch(t){console.log("【error】：",t)}finally{e.value.delete("/request/5")}}),l=()=>{p(),i(),f(),y(),c()},d=()=>{s.cancelAllRequest(),e.value.clear()},k=t=>{const r=[];return t.forEach(u=>{r.push(u)}),r},R=()=>{if(e.value.has("/request/1")){s.cancelRequest("/request/1"),e.value.delete("/request/1");return}p()},C=()=>{if(e.value.has("/request/2")){s.cancelRequest("/request/2"),e.value.delete("/request/2");return}i()},x=()=>{if(e.value.has("/request/3")){s.cancelRequest("/request/3"),e.value.delete("/request/3");return}f()},B=()=>{if(e.value.has("/request/4")){s.cancelRequest("/request/4"),e.value.delete("/request/4");return}y()},w=()=>{if(e.value.has("/request/5")){s.cancelRequest("/request/5"),e.value.delete("/request/5");return}c()},_=()=>{j()};return(t,r)=>{const u=J("BaseButton");return D(),S(v(A),{title:v(m)("router.request")},{default:o(()=>[T("p",null,"正在请求的接口："+I(k(e.value)),1),a(u,{type:"primary",onClick:R},{default:o(()=>r[0]||(r[0]=[n("请求/取消request1")])),_:1}),a(u,{type:"primary",onClick:C},{default:o(()=>r[1]||(r[1]=[n("请求/取消request2")])),_:1}),a(u,{type:"primary",onClick:x},{default:o(()=>r[2]||(r[2]=[n("请求/取消request3")])),_:1}),a(u,{type:"primary",onClick:B},{default:o(()=>r[3]||(r[3]=[n("请求/取消request4")])),_:1}),a(u,{type:"primary",onClick:w},{default:o(()=>r[4]||(r[4]=[n("请求/取消request5")])),_:1}),a(u,{type:"primary",onClick:l},{default:o(()=>r[5]||(r[5]=[n("发送五个请求")])),_:1}),a(u,{type:"primary",onClick:d},{default:o(()=>r[6]||(r[6]=[n("关闭所有请求")])),_:1}),a(v(E)),a(u,{type:"primary",onClick:_},{default:o(()=>r[7]||(r[7]=[n("token过期")])),_:1})]),_:1},8,["title"])}}});export{W as default};
//# sourceMappingURL=Request-CYwEp2Z6.js.map
